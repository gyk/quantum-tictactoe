:root{--bg: #ffffff;--text: #111827;--muted: #6b7280;--accent: #6495ed;--accent-rgb: 100, 149, 237;--warn: #b45309;--info: #6495ed;--win: #059669;--x: #dc2626;--x-rgb: 220, 38, 38;--o: #1d4ed8;--o-rgb: 29, 78, 216;--collapse: #4000aa;--collapse-rgb: 124, 58, 237;font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light;color:var(--text);background-color:var(--bg);font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;justify-content:center;align-items:center;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}.app{max-width:520px;margin:0 auto;padding:1rem;color:var(--text);text-align:center}.title{margin:.25rem 0 .5rem;font-size:clamp(1.5rem,5vw,2.5rem);font-weight:800;background:linear-gradient(0deg,#6f42c1,#007bff);-webkit-background-clip:text;background-clip:text;color:transparent}.subtitle{color:var(--muted);font-size:.95rem;margin-bottom:.5rem}.board{width:min(92vw,520px);margin:12px auto 0;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:10px}.sq{white-space:nowrap;width:100%;aspect-ratio:1 / 1;display:flex;align-items:center;justify-content:center;text-align:center;overflow:hidden;line-height:1.1;font-size:clamp(15px,4vw,18px);white-space:normal;word-break:normal;padding:8px;border-radius:12px;border:2px solid #e5e7eb;background:#f9fafb;color:var(--text);box-shadow:0 1px #00000005;transition:transform .12s ease,box-shadow .12s ease,border-color .12s ease,background .12s ease;touch-action:manipulation;-webkit-tap-highlight-color:transparent;outline:none;-webkit-user-select:none;user-select:none}.sq:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 6px 12px #0000000f;background:#fff}.sq:focus{outline:none;box-shadow:none}.sq:focus-visible{outline:none;box-shadow:0 0 0 3px rgba(var(--accent-rgb),.35);border-color:rgba(var(--accent-rgb),.9)}.board.x-turn .sq:not(:disabled):hover{border-color:rgba(var(--x-rgb),.8);box-shadow:0 6px 12px rgba(var(--x-rgb),.18)}.board.x-turn .sq:not(:disabled):active{border-color:rgba(var(--x-rgb),.9);background:rgba(var(--x-rgb),.12)}.board.o-turn .sq:not(:disabled):hover{border-color:rgba(var(--o-rgb),.82);box-shadow:0 6px 12px rgba(var(--o-rgb),.2)}.board.o-turn .sq:not(:disabled):active{border-color:rgba(var(--o-rgb),.85);background:rgba(var(--o-rgb),.16)}.sq:disabled{opacity:.9;background:#eef2ff}.sq.highlight{border-color:rgba(var(--accent-rgb),.9);box-shadow:0 0 0 3px rgba(var(--accent-rgb),.3)}.board.x-turn .sq.highlight{border-color:rgba(var(--x-rgb),.9);box-shadow:0 0 0 3px rgba(var(--x-rgb),.28)}.board.o-turn .sq.highlight{border-color:rgba(var(--o-rgb),.92);box-shadow:0 0 0 3px rgba(var(--o-rgb),.3)}.sq.first-pick{border-color:rgba(var(--accent-rgb),.95);box-shadow:0 0 0 3px rgba(var(--accent-rgb),.35)}.board.x-turn .sq.first-pick{border-color:rgba(var(--x-rgb),.95);box-shadow:0 0 0 3px rgba(var(--x-rgb),.35)}.board.o-turn .sq.first-pick{border-color:rgba(var(--o-rgb),.95);box-shadow:0 0 0 3px rgba(var(--o-rgb),.35)}@media (hover: none),(pointer: coarse){.sq.first-pick{animation:firstPickPulse 1.4s ease-in-out infinite}}@keyframes firstPickPulse{0%,to{box-shadow:0 0 0 3px rgba(var(--accent-rgb),.35),0 0 rgba(var(--accent-rgb),0)}50%{box-shadow:0 0 0 3px rgba(var(--accent-rgb),.55),0 0 0 6px rgba(var(--accent-rgb),.18)}}.sq .first-pick-ring{position:absolute;inset:-2px;border:3px solid rgba(var(--accent-rgb),.95);border-radius:12px;pointer-events:none;z-index:6}.board.x-turn .sq .first-pick-ring{border-color:rgba(var(--x-rgb),.95)}.board.o-turn .sq .first-pick-ring{border-color:rgba(var(--o-rgb),.95)}@media (hover: none),(pointer: coarse){.sq .first-pick-ring{animation:firstPickPulse 1.4s ease-in-out infinite}}.status-area{height:3.6em;padding:4px 0}.status{margin:0;color:var(--text);line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.status.warn{color:var(--warn)}.status.info{color:var(--info)}.status.win{color:var(--win)}.controls{margin-top:12px}.controls>button{padding:.5rem .9rem;border-radius:10px;border:1px solid #e5e7eb;background:#fff;color:var(--text);cursor:pointer}.controls>button:hover{border-color:var(--accent);box-shadow:0 2px 6px #0000000f}.hint{margin-top:8px;font-size:14px;color:var(--warn)}.sq{position:relative}.sq .tokens{position:relative;width:100%;height:100%}.token{font-weight:600;white-space:nowrap;pointer-events:none}.token.spooky{font-weight:500;opacity:.95}.token.x{color:var(--x)}.token.o{color:var(--o)}.player{font-weight:700}.player.x{color:var(--x)}.player.o{color:var(--o)}.token.center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:clamp(32px,9vw,52px);font-weight:800;display:inline-flex;align-items:flex-end;justify-content:center;gap:.08em}.token.center .letter{line-height:1}.token.center .sub{font-size:.6em;line-height:1;position:relative;bottom:.12em}.token.spooky{position:absolute;width:24%;height:24%;font-size:clamp(.62rem,2.6vw,.78rem);line-height:1;border-radius:999px;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid currentColor;box-shadow:0 1px 2px #00000014;padding:.1em}.token.spooky.shift.x{margin-left:-3px;margin-top:-3px;z-index:2}.token.spooky.shift.o{margin-left:3px;margin-top:3px;z-index:1}.token.pos-0{top:18%;left:18%;transform:translate(-50%,-50%)}.token.pos-1{top:18%;left:50%;transform:translate(-50%,-50%)}.token.pos-2{top:18%;left:82%;transform:translate(-50%,-50%)}.token.pos-3{top:50%;left:18%;transform:translate(-50%,-50%)}.token.pos-4{top:50%;left:50%;transform:translate(-50%,-50%)}.token.pos-5{top:50%;left:82%;transform:translate(-50%,-50%)}.token.pos-6{top:82%;left:18%;transform:translate(-50%,-50%)}.token.pos-7{top:82%;left:50%;transform:translate(-50%,-50%)}.token.pos-8{top:82%;left:82%;transform:translate(-50%,-50%)}@keyframes breathe-collapse{0%,to{box-shadow:0 0 0 1px rgba(var(--collapse-rgb),.3),0 0 0 4px rgba(var(--collapse-rgb),.1)}50%{box-shadow:0 0 0 2px rgba(var(--collapse-rgb),.42),0 0 0 6px rgba(var(--collapse-rgb),.18)}}.board.measuring .sq.highlight{animation:breathe-collapse 1.7s ease-in-out infinite;border-color:var(--collapse);box-shadow:0 0 0 1px rgba(var(--collapse-rgb),.3),0 0 0 4px rgba(var(--collapse-rgb),.16)}.board.measuring .sq.highlight .token.spooky.entangled{border-width:3px;z-index:4}@media (prefers-reduced-motion: reduce){.board.measuring .sq.highlight{animation:none}}@media (hover: none),(pointer: coarse){.board.x-turn .sq:not(:disabled):hover:not(.highlight),.board.o-turn .sq:not(:disabled):hover:not(.highlight),.board.x-turn .sq:not(:disabled):active:not(.highlight),.board.o-turn .sq:not(:disabled):active:not(.highlight){border-color:#e5e7eb!important;background:#f9fafb!important;box-shadow:0 1px #00000005!important}.sq.first-pick{border-color:rgba(var(--accent-rgb),.95)!important;box-shadow:0 0 0 3px rgba(var(--accent-rgb),.35)!important}.board.x-turn .sq.first-pick{border-color:rgba(var(--x-rgb),.95)!important;box-shadow:0 0 0 3px rgba(var(--x-rgb),.35)!important}.board.o-turn .sq.first-pick{border-color:rgba(var(--o-rgb),.95)!important;box-shadow:0 0 0 3px rgba(var(--o-rgb),.35)!important}.sq .first-pick-ring{border-width:3px}.sq:focus,.sq:focus-visible{outline:none;box-shadow:none}}
